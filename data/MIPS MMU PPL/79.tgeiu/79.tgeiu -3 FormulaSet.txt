
---------------------------------- Formula Set ----------------------------------

PRE	F0= CP0[ASID]=pid
	F1= PC[Out]=addr
	F2= IMem[{pid,addr}]={1,rs,9,imm}
	F3= ICache[addr]={1,rs,9,imm}
	F4= GPR[rs]=a

IF	F5= CP0.ASID=>IMMU.PID
	F6= PC.Out=>IMMU.IEA
	F7= IMMU.Addr=>IAddrReg.In
	F8= IMMU.Hit=>CU_IF.IMMUHit
	F9= PC.Out=>ICache.IEA
	F10= ICache.Out=>IR_IMMU.In
	F11= ICache.Out=>ICacheReg.In
	F12= ICache.Hit=>CU_IF.ICacheHit
	F13= ICache.Out=>IR_ID.In
	F14= CU_IF.IMMUHitOut=>CU_ID.IMMUHit
	F15= CU_IF.ICacheHitOut=>CU_ID.ICacheHit
	F16= CU_IF.IMMUHitOut=>CU_IMMU.IMMUHit
	F17= CU_IF.ICacheHitOut=>CU_IMMU.ICacheHit
	F18= ICache.Hit=>FU.ICacheHit
	F19= FU.Halt_IF=>CU_IF.Halt
	F20= FU.Bub_IF=>CU_IF.Bub
	F21= CtrlASIDIn=0
	F22= CtrlCP0=0
	F23= CtrlEPCIn=0
	F24= CtrlExCodeIn=0
	F25= CtrlIMMU=0
	F26= CtrlPC=0
	F27= CtrlPCInc=1
	F28= CtrlIAddrReg=0
	F29= CtrlICache=0
	F30= CtrlIR_IMMU=0
	F31= CtrlICacheReg=0
	F32= CtrlIR_ID=1
	F33= CtrlIMem=0
	F34= CtrlIRMux=0
	F35= CtrlGPR=0
	F36= CtrlA_EX=0
	F37= CtrlB_EX=0
	F38= CtrlIR_EX=0
	F39= CtrlConditionReg_MEM=0
	F40= CtrlIR_MEM=0
	F41= CtrlPIDReg=0
	F42= CtrlIR_DMMU1=0
	F43= CtrlIR_WB=0
	F44= CtrlA_MEM=0
	F45= CtrlA_WB=0
	F46= CtrlB_MEM=0
	F47= CtrlB_WB=0
	F48= CtrlConditionReg_DMMU1=0
	F49= CtrlConditionReg_WB=0
	F50= CtrlIR_DMMU2=0
	F51= CtrlConditionReg_DMMU2=0

ID	F83= IR_ID.Out=>FU.IR_ID
	F84= CU_ID.IMMUHitOut=>CU_EX.IMMUHit
	F85= CU_ID.ICacheHitOut=>CU_EX.ICacheHit
	F86= IR_ID.Out31_26=>CU_ID.Op
	F87= IR_ID.Out25_21=>GPR.RReg1
	F88= IR_ID.Out20_16=>CU_ID.IRFunc1
	F89= IR_ID.Out15_0=>IMMEXT.In
	F90= GPR.Rdata1=>FU.InID1
	F91= IR_ID.Out25_21=>FU.InID1_RReg
	F92= FU.OutID1=>A_EX.In
	F93= IMMEXT.Out=>B_EX.In
	F94= IR_ID.Out=>IR_EX.In
	F95= FU.Halt_ID=>CU_ID.Halt
	F96= FU.Bub_ID=>CU_ID.Bub
	F97= FU.InID2_RReg=5'b00000
	F98= CtrlASIDIn=0
	F99= CtrlCP0=0
	F100= CtrlEPCIn=0
	F101= CtrlExCodeIn=0
	F102= CtrlIMMU=0
	F103= CtrlPC=0
	F104= CtrlPCInc=0
	F105= CtrlIAddrReg=0
	F106= CtrlICache=0
	F107= CtrlIR_IMMU=0
	F108= CtrlICacheReg=0
	F109= CtrlIR_ID=0
	F110= CtrlIMem=0
	F111= CtrlIRMux=0
	F112= CtrlGPR=0
	F113= CtrlA_EX=1
	F114= CtrlB_EX=1
	F115= CtrlIR_EX=1
	F116= CtrlConditionReg_MEM=0
	F117= CtrlIR_MEM=0
	F118= CtrlPIDReg=0
	F119= CtrlIR_DMMU1=0
	F120= CtrlIR_WB=0
	F121= CtrlA_MEM=0
	F122= CtrlA_WB=0
	F123= CtrlB_MEM=0
	F124= CtrlB_WB=0
	F125= CtrlConditionReg_DMMU1=0
	F126= CtrlConditionReg_WB=0
	F127= CtrlIR_DMMU2=0
	F128= CtrlConditionReg_DMMU2=0

EX	F129= IR_EX.Out=>FU.IR_EX
	F130= CU_EX.IMMUHitOut=>CU_MEM.IMMUHit
	F131= CU_EX.ICacheHitOut=>CU_MEM.ICacheHit
	F132= IR_EX.Out31_26=>CU_EX.Op
	F133= IR_EX.Out20_16=>CU_EX.IRFunc1
	F134= A_EX.Out=>CMPU.A
	F135= B_EX.Out=>CMPU.B
	F136= CMPU.Func=6'b000000
	F137= CMPU.lt=>ConditionReg_MEM.In
	F138= IR_EX.Out=>IR_MEM.In
	F139= FU.InEX_WReg=5'b00000
	F140= CtrlASIDIn=0
	F141= CtrlCP0=0
	F142= CtrlEPCIn=0
	F143= CtrlExCodeIn=0
	F144= CtrlIMMU=0
	F145= CtrlPC=0
	F146= CtrlPCInc=0
	F147= CtrlIAddrReg=0
	F148= CtrlICache=0
	F149= CtrlIR_IMMU=0
	F150= CtrlICacheReg=0
	F151= CtrlIR_ID=0
	F152= CtrlIMem=0
	F153= CtrlIRMux=0
	F154= CtrlGPR=0
	F155= CtrlA_EX=0
	F156= CtrlB_EX=0
	F157= CtrlIR_EX=0
	F158= CtrlConditionReg_MEM=1
	F159= CtrlIR_MEM=1
	F160= CtrlPIDReg=0
	F161= CtrlIR_DMMU1=0
	F162= CtrlIR_WB=0
	F163= CtrlA_MEM=0
	F164= CtrlA_WB=0
	F165= CtrlB_MEM=0
	F166= CtrlB_WB=0
	F167= CtrlConditionReg_DMMU1=0
	F168= CtrlConditionReg_WB=0
	F169= CtrlIR_DMMU2=0
	F170= CtrlConditionReg_DMMU2=0

MEM	F171= IR_MEM.Out=>FU.IR_MEM
	F172= CU_MEM.IMMUHitOut=>CU_DMMU1.IMMUHit
	F173= CU_MEM.ICacheHitOut=>CU_DMMU1.ICacheHit
	F174= CU_MEM.DMMUHitOut=>CU_DMMU1.DMMUHit
	F175= CU_MEM.DCacheHitOut=>CU_DMMU1.DCacheHit
	F176= IR_MEM.Out31_26=>CU_MEM.Op
	F177= IR_MEM.Out20_16=>CU_MEM.IRFunc1
	F178= PC.Out=>CP0.EPCIn
	F179= CP0.ExCodeIn=5'h0d
	F180= CU_MEM.TrapAddr=>PC.In
	F181= CP0.ASID=>PIDReg.In
	F182= ConditionReg_MEM.Out=>CU_MEM.lt
	F183= IR_MEM.Out=>IR_DMMU1.In
	F184= IR_MEM.Out=>IR_WB.In
	F185= A_MEM.Out=>A_WB.In
	F186= B_MEM.Out=>B_WB.In
	F187= ConditionReg_MEM.Out=>ConditionReg_DMMU1.In
	F188= ConditionReg_MEM.Out=>ConditionReg_WB.In
	F189= CU_MEM.IMMUHitOut=>CU_WB.IMMUHit
	F190= CU_MEM.ICacheHitOut=>CU_WB.ICacheHit
	F191= FU.InMEM_WReg=5'b00000
	F192= CtrlASIDIn=0
	F193= CtrlCP0=0
	F194= CtrlEPCIn=1
	F195= CtrlExCodeIn=1
	F196= CtrlIMMU=0
	F197= CtrlPC=1
	F198= CtrlPCInc=0
	F199= CtrlIAddrReg=0
	F200= CtrlICache=0
	F201= CtrlIR_IMMU=0
	F202= CtrlICacheReg=0
	F203= CtrlIR_ID=0
	F204= CtrlIMem=0
	F205= CtrlIRMux=0
	F206= CtrlGPR=0
	F207= CtrlA_EX=0
	F208= CtrlB_EX=0
	F209= CtrlIR_EX=0
	F210= CtrlConditionReg_MEM=0
	F211= CtrlIR_MEM=0
	F212= CtrlPIDReg=1
	F213= CtrlIR_DMMU1=1
	F214= CtrlIR_WB=1
	F215= CtrlA_MEM=0
	F216= CtrlA_WB=1
	F217= CtrlB_MEM=0
	F218= CtrlB_WB=1
	F219= CtrlConditionReg_DMMU1=1
	F220= CtrlConditionReg_WB=1
	F221= CtrlIR_DMMU2=0
	F222= CtrlConditionReg_DMMU2=0

MEM(DMMU1)	F223= IR_DMMU1.Out=>FU.IR_DMMU1
	F224= CU_DMMU1.IMMUHitOut=>CU_DMMU2.IMMUHit
	F225= CU_DMMU1.ICacheHitOut=>CU_DMMU2.ICacheHit
	F226= CU_DMMU1.DMMUHitOut=>CU_DMMU2.DMMUHit
	F227= CU_DMMU1.DCacheHitOut=>CU_DMMU2.DCacheHit
	F228= CU_DMMU1.DCacheHitOut=>FU.DCacheHit2
	F229= IR_DMMU1.Out31_26=>CU_DMMU1.Op
	F230= IR_DMMU1.Out20_16=>CU_DMMU1.IRFunc1
	F231= IR_DMMU1.Out=>IR_DMMU2.In
	F232= ConditionReg_DMMU1.Out=>ConditionReg_DMMU2.In
	F233= FU.InDMMU1_WReg=5'b00000
	F234= CtrlASIDIn=0
	F235= CtrlCP0=0
	F236= CtrlEPCIn=0
	F237= CtrlExCodeIn=0
	F238= CtrlIMMU=0
	F239= CtrlPC=0
	F240= CtrlPCInc=0
	F241= CtrlIAddrReg=0
	F242= CtrlICache=0
	F243= CtrlIR_IMMU=0
	F244= CtrlICacheReg=0
	F245= CtrlIR_ID=0
	F246= CtrlIMem=0
	F247= CtrlIRMux=0
	F248= CtrlGPR=0
	F249= CtrlA_EX=0
	F250= CtrlB_EX=0
	F251= CtrlIR_EX=0
	F252= CtrlConditionReg_MEM=0
	F253= CtrlIR_MEM=0
	F254= CtrlPIDReg=0
	F255= CtrlIR_DMMU1=0
	F256= CtrlIR_WB=0
	F257= CtrlA_MEM=0
	F258= CtrlA_WB=0
	F259= CtrlB_MEM=0
	F260= CtrlB_WB=0
	F261= CtrlConditionReg_DMMU1=0
	F262= CtrlConditionReg_WB=0
	F263= CtrlIR_DMMU2=1
	F264= CtrlConditionReg_DMMU2=1

MEM(DMMU2)	F265= IR_DMMU2.Out=>FU.IR_DMMU2
	F266= CU_DMMU2.IMMUHitOut=>CU_WB.IMMUHit
	F267= CU_DMMU2.ICacheHitOut=>CU_WB.ICacheHit
	F268= IR_DMMU2.Out31_26=>CU_DMMU2.Op
	F269= IR_DMMU2.Out20_16=>CU_DMMU2.IRFunc1
	F270= IR_DMMU2.Out=>IR_WB.In
	F271= ConditionReg_DMMU2.Out=>ConditionReg_WB.In
	F272= FU.InDMMU2_WReg=5'b00000
	F273= CtrlASIDIn=0
	F274= CtrlCP0=0
	F275= CtrlEPCIn=0
	F276= CtrlExCodeIn=0
	F277= CtrlIMMU=0
	F278= CtrlPC=0
	F279= CtrlPCInc=0
	F280= CtrlIAddrReg=0
	F281= CtrlICache=0
	F282= CtrlIR_IMMU=0
	F283= CtrlICacheReg=0
	F284= CtrlIR_ID=0
	F285= CtrlIMem=0
	F286= CtrlIRMux=0
	F287= CtrlGPR=0
	F288= CtrlA_EX=0
	F289= CtrlB_EX=0
	F290= CtrlIR_EX=0
	F291= CtrlConditionReg_MEM=0
	F292= CtrlIR_MEM=0
	F293= CtrlPIDReg=0
	F294= CtrlIR_DMMU1=0
	F295= CtrlIR_WB=1
	F296= CtrlA_MEM=0
	F297= CtrlA_WB=0
	F298= CtrlB_MEM=0
	F299= CtrlB_WB=0
	F300= CtrlConditionReg_DMMU1=0
	F301= CtrlConditionReg_WB=1
	F302= CtrlIR_DMMU2=0
	F303= CtrlConditionReg_DMMU2=0

WB	F304= IR_WB.Out=>FU.IR_WB
	F305= IR_WB.Out31_26=>CU_WB.Op
	F306= IR_WB.Out20_16=>CU_WB.IRFunc1
	F307= FU.InWB_WReg=5'b00000
	F308= CtrlASIDIn=0
	F309= CtrlCP0=0
	F310= CtrlEPCIn=0
	F311= CtrlExCodeIn=0
	F312= CtrlIMMU=0
	F313= CtrlPC=0
	F314= CtrlPCInc=0
	F315= CtrlIAddrReg=0
	F316= CtrlICache=0
	F317= CtrlIR_IMMU=0
	F318= CtrlICacheReg=0
	F319= CtrlIR_ID=0
	F320= CtrlIMem=0
	F321= CtrlIRMux=0
	F322= CtrlGPR=0
	F323= CtrlA_EX=0
	F324= CtrlB_EX=0
	F325= CtrlIR_EX=0
	F326= CtrlConditionReg_MEM=0
	F327= CtrlIR_MEM=0
	F328= CtrlPIDReg=0
	F329= CtrlIR_DMMU1=0
	F330= CtrlIR_WB=0
	F331= CtrlA_MEM=0
	F332= CtrlA_WB=0
	F333= CtrlB_MEM=0
	F334= CtrlB_WB=0
	F335= CtrlConditionReg_DMMU1=0
	F336= CtrlConditionReg_WB=0
	F337= CtrlIR_DMMU2=0
	F338= CtrlConditionReg_DMMU2=0

POST	F339= CP0[EPC]=addr+4
	F340= CP0[ExCode]=5'h0d
	F341= [PIDReg]=pid
	F342= [ConditionReg_WB]=CompareU(FU(a),{16{imm[15]},imm})

